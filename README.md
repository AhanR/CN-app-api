# CN-app-api
## Routes
### `/users/add`
Functionality: Add another user to the platform
example request:
```
POST http://localhost:3000/users/add HTTP/1.1
content-type: application/json

{
    "userName" : "bob",
    "userDomain" : "Game-dev Member",
    "signee" : {
        "userName" : "ahan",
        "userKey" : "<user password>"
    }
}
```
Returns: New user object OR error
```
{
    userName : "bob",
    userId : "<32 bit id generated by mongo>",
    userDomain : "Game-dev Member",
    userKey : "<randomly generated password>"
}
```

### `/users/indomain:<domain>`
Functionality: Look for members of a specific domain
```
GET http://localhost:300/users/indomain:Web-dev HTTP/1.1
```
Returns: List of users in that domain OR error
```
{
    userList : [
        {
            userName : "bob",
            userId : "<32 bit id generated by mongo>",
            userKey : "<randomly generated password>",
            userDomain : "Game-dev Member",
            lastCalled : "<date>"
        }, ...
    ]
}
```

### `/events/add`
Functionality: Add new event to calender
```
POST http://localhost:3000/events/add HTTP/1.1
content-type: application/json

{
    "name" : "full team meet",
    "date" : "23-01-2024",
    "invitees" : ["<user id>",..].
    "domain" : "all"
    "signee" : {
        "userName" : "ahan",
        "userKey" : "<user password>"
    }
}
```
Returns: The new event object OR error
```
{
    eventName : "full team meet",
    eventDate : "23-01-2024",
    eventInvitees : ["<user id>",...],
    eventAttendees : [
        {
            user : "<user id>",
            signee : "<user id>"
        },...
    ],
    eventId : "<random id>",
    eventDomain : "all",
    eventAuthor : "<user id>"
}
```
### `/events/all`
Functionality: Returns all events
```
GET http://localhost:3000/events/all HTTP/1.1
```
Returns: a list of events OR error
```
{
    events : [
        {
            eventName : "full team meet",
            eventDate : "23-01-2024",
            eventInvitees : ["<user id>",...],
            eventAttendees : [
                {
                    user : "<user id>",
                    signee : "<user id>"
                },...
            ],
            eventId : "<random id>",
            eventDomain : "all",
            eventAuthor : "<user id>"
        },...
    ]
}
```